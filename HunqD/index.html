<!DOCTYPE html>
<html lang="vi">
<!-- Shift + Alt + F  để sắp xếp lại code ( format code )-->
<html>

<head>
    <!-- Tiêu đề trang -->
    <title>Chesino</title>

    <!-- Bộ giải mã và phân loại thiết bị -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

    <!-- CSS của web -->
    <link rel="stylesheet" href="./Data/CSS/Style.css" />

    <!-- FontAweSome fas fa icon -->
    <script src="https://kit.fontawesome.com/9392097706.js" crossorigin="anonymous"></script>

</head>


<body>
    <div class="Profile">
        <div class="Info">
            <div class="Social">
                <div class="Name">
                    Đinh Mạnh Hùng <span><i class="fa-solid fa-circle-check"></i></span>
                </div>
                <div class="UserName">
                    @HunqD
                </div>
                <div class="More">
                    <div class="Address">
                        <i class="fa-solid fa-location-dot"></i>
                        VietNam
                    </div>
                    <div class="Website">
                        <a href="http://chesino.github.io" target="_blank" rel="noopener noreferrer">
                            <i class="fa-solid fa-square-arrow-up-right"></i>
                            Chesino.github.io
                        </a>
                    </div>
                </div>

            </div>
            <div class="Avatar">
                <img src="https://graph.facebook.com/100045640179308/picture?type=large&access_token=6628568379|c1e620fa708a1d5696fb991c1bde5662"
                    alt="" srcset="">
            </div>

        </div>

        <div class="Contact">
            <a href="http://m.me/HunqD" target="_blank">
                <button class="BTN Chat">
                    Nhắn tin
                </button>
            </a>
            <button class="BTN AddFriend" onclick="alert('Chưa khả dụng')">
                <i class="fa-solid fa-user-plus"></i>
            </button>
            <button class="BTN Like" onclick="alert('Chưa khả dụng')">
                <i class="fa-regular fa-star"></i>
            </button>
        </div>
    </div>


    <div class="Tab">
        <button class="tablinks active" onclick="openTAB(event, 'Poster')">Bài viết</button>
        <button class="tablinks " onclick="openTAB(event, 'Photo')">Ảnh</button>
        <button class="tablinks" onclick="openTAB(event, 'Share')">Chia sẻ</button>
    </div>

    <div id="Poster" class="tabcontent show">
        <div id="rss-feed">
            bài viết
        </div>
    </div>

    <div id="Photo" class="tabcontent ">
        <section class="gallery">
            <div class="image">
                <img src="./Data/IMG/A1.jpg" alt="" srcset="">
            </div>
            <div class="image">
                <img src="./Data/IMG/A3.jpg" alt="" srcset="">
            </div>
            <div class="image">
                <img src="./Data/IMG/A5.jpg" alt="" srcset="">
            </div>
            <div class="image">
                <img src="./Data/IMG/A4.jpg" alt="" srcset="">
            </div>
        </section>
    </div>

    

    <div class="tabcontent" id="Share">
        <div class="iOS">
            <p>Chặn quảng cáo bằng cấu hình trên iOS</p>
            <a href="https://cdn.adguard.com/public/Dns/adguard-dns.mobileconfig">Tải cấu hình</a>
        </div>
    </div>
</body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="./Data/JS/File.js"></script>

<script>
   const rssUrl = 'https://hunqd.wordpress.com/feed';
const proxyUrl = 'https://api.allorigins.win/raw?url=';

fetch(proxyUrl + encodeURIComponent(rssUrl))
  .then(response => response.text())
  .then(str => new DOMParser().parseFromString(str, "text/xml"))
  .then(data => {
    const items = data.querySelectorAll("item");

    let html = '';
    items.forEach(item => {
      const title = item.querySelector("title").textContent;
      const link = item.querySelector("link").textContent;
      const description = item.querySelector("description").textContent;
      
      const creator = item.querySelector("creator").textContent;
      const pubDate = item.querySelector("pubDate").textContent;
      const pubDateTimeStamp = Date.parse(pubDate);
      const nowTimeStamp = Date.now();
      const timeDiff = nowTimeStamp - pubDateTimeStamp;

      // Chuyển khoảng thời gian từ millisecond sang giây, phút, giờ hoặc ngày
      const secondDiff = Math.floor(timeDiff / 1000);
      const minuteDiff = Math.floor(timeDiff / (1000 * 60));
      const hourDiff = Math.floor(timeDiff / (1000 * 60 * 60));
      const dayDiff = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
      let TimeDiff = '';
      if (dayDiff > 0) {
        TimeDiff = dayDiff + " ngày trước";
      } else if (hourDiff > 0) {
        TimeDiff = hourDiff + " giờ trước";
      } else if (minuteDiff > 0) {
        TimeDiff = minuteDiff + " phút trước";
      } else {
        TimeDiff = "vừa xong";
      }

      html += `
        <div class="rss-item">
          <h1>${title}</h1>
          <p class="time"><b>${creator}</b> - ${TimeDiff}  </p>
          <p>${description} </p>
          
        </div>
      `;
    });
    // Thêm này dưới description
    // <a href="${link}">Xem thêm  </a>
    
    document.querySelector('#rss-feed').innerHTML = html;
  })
  .catch(error => console.log(error));

 
</script>

</html>