<h3 style="font-weight: bold; font-size: 30px; color: #ff2655 !important; ">Đã tải lên thành công ! </h3>
<br>
<div class="center">
    <img style="width: 200px; border-radius: 10px; border: 3px solid #ff2655 ;"
        src="https://catscanman.net/wp-content/uploads/2023/01/10-diem-meme.gif" alt="" srcset="">
    <br> <br>
    <button class="btn-large btnSubmit forms-studio-submit" onclick="GetLink()">Lấy ID Link</button>
    <br> <br>

</div>
<label for="myInput">ID</label>
<input type="text" id="myInput">
<button class="btn btnSubmit forms-studio-submit" onclick="copyID()">Sao chép</button>
<br> <br>
<label for="myLink">Link</label>
<input type="text" id="myLink">
<button class="btn btnSubmit forms-studio-submit" onclick="copyLink()">Sao chép</button>
<a href="" id="Link" target="_blank" rel="noopener noreferrer">
    <button class="btn btnSubmit forms-studio-submit">Truy cập ngay</button>  
</a>

<style>
    .disclaimer {
        display: none !important;
    }

    .row.submit {
        text-align: center !important;
    }

    .row .col {
        float: none !important;
        text-align: center !important;
    }

    .row .col.m6 {
        width: auto !important;
        margin-left: 0 !important;
    }

    .forms-studio-content-wrapper,
    body {
        padding: 5px;
        background-color: #111 !important;
    }

    .forms-studio-main-form {
        border-radius: 10px !important;
        -webkit-box-shadow: none !important;
        box-shadow: none !important;
        background-color: #fff !important;
    }

    .forms-studio-header {
        border-radius: 10px !important;
    }

    .btn-floating,
    .btn.file-upload-btn,
    .forms-studio-fileupload,
    .forms-studio-fileupload:focus,
    .forms-studio-fileupload:hover,
    .forms-studio-header,
    .forms-studio-question.header,
    .forms-studio-signature button,
    .forms-studio-submit,
    .forms-studio-submit:focus,
    .forms-studio-submit:hover {
        background-color: #ff2655 !important;
    }

    .forms-studio-accent {
        background-color: #111 !important;
    }

    .forms-studio-spinner {
        border-color: #ff2655 !important;

    }

    .btn-floating,
    .btn.file-upload-btn,
    .forms-studio-fileupload,
    .forms-studio-fileupload:focus,
    .forms-studio-fileupload:hover,
    .forms-studio-header,
    .forms-studio-question.header,
    .forms-studio-signature button,
    .forms-studio-submit,
    .forms-studio-submit:focus,
    .forms-studio-submit:hover {
        border-radius: 10px;
    }

    input.valid:not([type]),
    input.valid:not([type]):focus,
    input.valid[type=text]:not(.browser-default),
    input.valid[type=text]:not(.browser-default):focus,
    input.valid[type=password]:not(.browser-default),
    input.valid[type=password]:not(.browser-default):focus,
    input.valid[type=email]:not(.browser-default),
    input.valid[type=email]:not(.browser-default):focus,
    input.valid[type=url]:not(.browser-default),
    input.valid[type=url]:not(.browser-default):focus,
    input.valid[type=time]:not(.browser-default),
    input.valid[type=time]:not(.browser-default):focus,
    input.valid[type=date]:not(.browser-default),
    input.valid[type=date]:not(.browser-default):focus,
    input.valid[type=datetime]:not(.browser-default),
    input.valid[type=datetime]:not(.browser-default):focus,
    input.valid[type=datetime-local]:not(.browser-default),
    input.valid[type=datetime-local]:not(.browser-default):focus,
    input.valid[type=tel]:not(.browser-default),
    input.valid[type=tel]:not(.browser-default):focus,
    input.valid[type=number]:not(.browser-default),
    input.valid[type=number]:not(.browser-default):focus,
    input.valid[type=search]:not(.browser-default),
    input.valid[type=search]:not(.browser-default):focus,
    textarea.materialize-textarea.valid,
    textarea.materialize-textarea.valid:focus,
    .select-wrapper.valid>input.select-dropdown {
        border-bottom: 1px solid pink !important;
        -webkit-box-shadow: 0 1px 0 0 pink !important;
        box-shadow: 0 1px 0 0 pink !important;
    }

    .center {
        text-align: center;
    }
.row {
   padding: 0 10px;
}
</style>

<script>
    function GetLink() {
        var inputElement = document.getElementById("ctrlq-file-0");
        var dataFiles = inputElement.getAttribute("data-files");
        var copyText = document.getElementById("myInput");
        var myLink = document.getElementById("myLink");
        // Sử dụng regex để trích xuất mã từ chuỗi data-files
        var match = /{"([^"]+)":"[^"]+"}/.exec(dataFiles);

        if (match) {
            var code = match[1];
            copyText.value = code;
            navigator.clipboard.writeText(code);
            myLink.value = 'https://drive.google.com/open?id=' + code;

            var link =  document.getElementById("Link");;

            // Đặt thuộc tính href (đường dẫn)
            link.href = 'https://drive.google.com/open?id=' + code;

        } else {
            alert("Không tìm thấy mã.");
        }
    }

    function copyLink() {
    var copyText = document.getElementById("myLink");
    copyText.select();
    copyText.setSelectionRange(0, 99999);
    navigator.clipboard
      .writeText(copyText.value)
      .then(() => {
        alert("Sao chép thành công.");
      })
      .catch(() => {
        alert("Lỗi sao chép");
      });
}

function copyID() {
    var copyText = document.getElementById("myInput");
    copyText.select();
    copyText.setSelectionRange(0, 99999);
    navigator.clipboard
      .writeText(copyText.value)
      .then(() => {
        alert("Sao chép thành công.");
      })
      .catch(() => {
        alert("Lỗi sao chép");
      });
}
   

</script>